"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var topBar=document.getElementById("topbar"),mainNav=topBar.nextElementSibling,navLinks=_toConsumableArray(document.querySelectorAll(".main-nav__item>.main-nav__link")),removeClass=function(e,t){e.forEach((function(e){e.classList.remove(t)}))},generateModal=function(e){var t=e.idSocio,n=e.nombre,r=e.email,a=e.direccion,i=e.url,o=document.createDocumentFragment(),l=document.getElementById("modal")||document.createElement("div");l.setAttribute("id","modal"),l.classList.add("modal"),l.innerHTML='<form action="'.concat(i,'" method="post" class="modal-form">\n  <div id="modal-close" class="modal-form__close"></div>\n  <input type="hidden" name="idsocio" value="').concat(t,'" />\n  <div class="modal-form__item">\n    <label for="nombre" class="modal-form__label">Nombre</label>\n    <input type="text" class="modal-form__input" name="nombre" id="nombre" value="').concat(n,'" />\n  </div>\n  <div class="modal-form__item">\n    <label for="email" class="modal-form__label">Email</label>\n    <input type="text" class="modal-form__input" name="email" id="email" value="').concat(r,'" />\n  </div>\n  <div class="modal-form__item">\n    <label for="direccion" class="modal-form__label">Direccion</label>\n    <input type="text" class="modal-form__input" name="direccion" id="direccion" value="').concat(a,'" />\n  </div>\n  <div class="modal-form__item">\n    <input class="modal-form__submit" type="submit" value="Enviar" />\n  </div>\n</form>'),o.appendChild(l),document.body.insertAdjacentElement("afterbegin",l),document.body.style.overflow="hidden",l.addEventListener("click",(function(e){"modal-close"==e.target.getAttribute("id")&&(l.classList.add("modal--hide"),document.body.removeAttribute("style"),setTimeout((function(){return l.remove()}),500))}))};topBar.addEventListener("click",(function(e){mainNav.classList.toggle("main-nav--show"),e.target.classList.contains("hamburger-icon")?e.target.classList.toggle("hamburger-icon--show"):e.target.firstElementChild.classList.toggle("hamburger-icon--show")})),mainNav.addEventListener("click",(function(e){if("#"==e.target.getAttribute("href")){e.preventDefault();var t=_toConsumableArray(document.querySelectorAll(".main-nav__item>.main-nav__sublist"));removeClass(navLinks.filter((function(t){return t!=e.target})),"main-nav__link--active"),removeClass(t.filter((function(t){return t!=e.target.nextElementSibling})),"main-nav__sublist--show"),e.target.nextElementSibling.classList.toggle("main-nav__sublist--show"),e.target.classList.toggle("main-nav__link--active")}}));var cardsContainer=document.getElementById("cards"),cards=document.querySelectorAll(".cards>.card");cardsContainer.addEventListener("click",(function(e){if(e.target.classList.contains("card__delete")){e.preventDefault();var t="/".concat(e.target.href.split("/").filter((function(e,t){return t>2})).join("/"));fetch(t,{method:"DELETE"}).then((function(e){return e.json()}));var n=location.href.includes("?eliminado=true")?location.href:"".concat(location.href.substring(0,location.href.indexOf("/",location.href.indexOf("socios"))+1),"?eliminado=true");window.URL=n,location.href=n}if(e.target.classList.contains("card__edit")){e.preventDefault();var r=e.target.parentElement.parentElement,a=parseInt(e.target.getAttribute("data-id")),i=r.firstElementChild.textContent,o=r.firstElementChild.nextElementSibling.firstElementChild.textContent,l=r.firstElementChild.nextElementSibling.nextElementSibling.firstElementChild.textContent,c=e.target.getAttribute("href");generateModal({idSocio:a,nombre:i,email:o,direccion:l,url:c})}}));